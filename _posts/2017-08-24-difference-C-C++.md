---
layout: post
title: C와 C++의 차이점
tags: [develop]
author: yoo4471
---

## Introduction
저는 서울의 모 대학교 컴퓨터공학과에서 공부했습니다. 일학년 때는 C를 배웠고 이학년부터는 C++을 주로 배웠습니다. 그리고 인턴을 했던 회사에서는 C를 기반으로 프로젝트를 수행했습니다. 

이제 취업 준비를 위해 코딩 시험을 대비해야 하는데 C와 C++ 중에서 하나를 고르기 위해 자료를 찾아보다가 [좋은 토론](http://scieng.net/tech/11190)을 발견했습니다. 이 글을 기반으로 정리한 포스트입니다. 

## 토론의 시작
  > 쁠이 두개 더 달렸잖아요.  
C 언어는 원시적인 형태로 볼 수 있죠. 포인터와 어드레스를 직접사용하는 단계의 언어이구요.  
객체지향이라고 하는 개념이 등장하고 나서, C 언어에 그 개념이 구현되도록 발전시킨것이 C++ 입니다.  
C++ 컴파일러에서 고전적인 C를 구현해도 아무런 문제가 되지 않습니다. 확장버젼이라고 보시면 되겠죠.  

## C와 C++은 다르다
C와 C++이 서로 다른 언어라는 의견이 팽배한 글이기 때문에 **토론의 시작**을 반박하는 글을 옮겼습니다.

### 컴파일러 측면
  > gcc 는 integrated compiler 뿐입니다. 다른 compiler를 호출하는 작업을 주로 합니다. 그러나 이것이 중요한게 아니라, 정작 중요한 것은 compile후에 어떤 linking과정을 거치느냐를 봐야 하는데, 모든 플랫폼은 C를 사용하느냐 C++를 사용하느냐에 따라서 실제로 링크하는 startup code와 library도 다릅니다.  

### 언어적 측면
  > 공통 부분을 사용하는 경우에는 둘의 차이가 미미합니다만, 사용하지 않는 키워드가 없다든지 하면 그 차이는 벌어집니다. 한 언어(C++)가 주형 (template) 을 이용한 장난이나 형변환의 양상에 따른 차이를 잘 수용되도록 설계된 반면에 한 언어(C)는 시스템 프로그래밍에 적합하도록 언어 차원에서의 제약 조건을 잘 다루도록 설계됐다든지 하는 점이 낳는 차이는 생각보다 큽니다.  
  >
  > 언어의 역사에서 C++98은 C90의 모든 코드를 수용할 수 없는 후손으로 태어났고 C99의 등장으로 두 언어의 차이는 꽤 벌어졌습니다. C++03이 C99를 반영하지도, 두 언어의 0x가 서로의 차이를 좁힐 의사도 보이고 있지 않기 때문에 현 시점까지 어느 언어가 한 언어를 포함하느냐의 질문에 대한 답은, 적어도 수학적으로 엄밀하게는 명백히 `아니오' 입니다.  
  
### system (or OS)이나 library 측면
  > 둘은 완전히 다른 체계를 가집니다. compiler를 통해서 생성하는 object code 의 생김새도 매우 다릅니다. 사실상 C++ 가 C 의 API 나 syntax로 작성이 가능한 부분은 내부적으로는 library상에서 wrapper가 존재하기 때문에 가능한 것입니다. 따라서 엄밀하게는 C 문법으로 작성하지만, 실제로 같은 이름의 C++ 로 wrapping 된다고 보시면 됩니다. 
  >
  > 이는 C++ 에서 교묘하게 C 의 syntax 나 기존의 API 를 지원할 수 있도록 눈속임한것 뿐입니다. 원인으로는 C++ 가 막 보급되던 시절에 기존의 C 개발자들을 끌어모으기 위함이였고, 이제 충분히 확보했기 때문에, C의 그늘에서 떨어져나와서 서로 다른 길을 가고 있습니다. 그리고 그 차이는 점점 벌어져서 둘은 엄연히 다른 언어가 되어가고 있습니다. 간단하게 pointer(or aliasing)에 대한 부분도 이제는 둘이 완전히 달라지고 있습니다. 그래서인지 지금 C++의 발전에 무지 원망도 많습니다.  
  미국에서는 이를 두고 C++ 언어가 잡동사니가 되어간다고 비판하기도 합니다만, 원래 C 의 형태를 따른 것은 잠시 갈아타기 위한 타협점? 비슷한 것이었기 때문에 원형을 찾아간다고 보시면 되겠습니다.  

### performance 측면 - [C versus C++](http://unthought.net/c++/c_vs_c++.html)
  > C versus C++ 에서 performance 관련된 부분이 나오는데 해당 페이지는 예전에 갑론을박이 있었던 사안입니다만, 그 비교가 잘못되었다라는게 일반적인 이야기입니다. 
  >
  >사실 C++가 느려지는 이유는 수많은 템플릿과 오버라이딩을 이용했을때와 수많은 객체를 만들었을때입니다. 객체지향의 경우에는 플랫폼에서 메모리 관리 부분을 다소 느슨하게 하기 때문에, 더 많은 메모리를 소모하는 경향이 있고, 이를 감시하기 위한 루틴으로 인해서 느려질 수 있습니다. 
  >
  >이를 단순하게 작은 앨거리즘 프로그램에 몇개 안되는 객체나 오버라이딩을 사용하지 않고 테스트한다면 실행환경이나 플랫폼의 특성이나 최적화에 따라서 성능이 다르게 나올 수 있습니다.  
  >
  > 만일 비지니스 로직 부분을 개발한다면, 그리고 리얼타임이 그다지 강조되지 않는다면, C++가 훨씬 유리하다는 것에는 이의가 없습니다. 그 역으로 비지니스 로직이 아닌 시스템 영역이라면 C가 훨씬 유리합니다.

  
## 결론
두 언어의 차이가 코딩 테스트의 결과에 큰 차이를 만들지 않을 것으로 판단했습니다. 즉, 어떤 언어를 사용하는지는 중요하지 않다고 결론을 내렸습니다.  

시스템 소프트웨어에 강점이 있는 C가 더 끌리긴 하지만 C++로 코딩 테스트를 준비하면서 객체 지향이란 무엇인지 자세하게 알아보려고 합니다.
  